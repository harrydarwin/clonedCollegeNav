(this["webpackJsonpcollege-navigator"]=this["webpackJsonpcollege-navigator"]||[]).push([[0],{121:function(e,t,o){},122:function(e,t,o){"use strict";o.r(t);var s=o(1),n=o(2),a=o.n(n),c=o(26),r=o.n(c),i=(o(70),o(27)),l=o(10),d=o(11),u=o(13),h=o(12),p=o(18),j=o(4),m=o(62),v=o(14),b=o.n(v),f=o(37),y=o.n(f),x=o(38);o(97);x.a.initializeApp({apiKey:"AIzaSyCx_22IVNfxHM8TyjNoRqbqbf30j2flMgU",authDomain:"collegenavigator-40c76.firebaseapp.com",projectId:"collegenavigator-40c76",storageBucket:"collegenavigator-40c76.appspot.com",messagingSenderId:"497329332909",appId:"1:497329332909:web:c15591a2de202a9fe99c24"});var O=x.a,g=o(6),C=o.n(g),S=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).setRedirect=function(){e.setState({redirect:!0})},e.renderRedirect=function(){if(e.state.redirect)return e.setState({redirect:!1}),Object(s.jsx)(j.a,{exact:!0,to:"/searchResults"})},e.state={favouriteLength:[],redirect:!1},e}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var e=this;O.database().ref().on("value",(function(t){var o,s=t.val().Favourites,n=[];for(var a in s)o=s[a],n.push(o);e.setState({favouritesLength:n.length-1})}))}},{key:"render",value:function(){var e=this.props,t=(e.schoolHandler,e.radiusHandler),o=e.handleCityInput,n=e.handleCountryInput,a=e.submitHandler;return Object(s.jsxs)("header",{children:[Object(s.jsx)("h1",{children:"College Navigator"}),Object(s.jsx)("form",{action:"submit",onSubmit:a,children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsxs)("div",{className:"cityInputs",children:[Object(s.jsx)("input",{onChange:o,type:"text",placeholder:"City",id:"citySearch",required:!0}),Object(s.jsx)("label",{className:"srOnly",htmlFor:"citySearch",children:"Please enter a city to search"}),Object(s.jsx)("input",{onChange:n,type:"text",placeholder:"Province/State OR Country",id:"countrySearch",required:!0}),Object(s.jsx)("label",{className:"srOnly",htmlFor:"countrySearch",children:"Please enter the country the city is in"})]}),Object(s.jsxs)("div",{className:"radiusInputs",children:[Object(s.jsx)("legend",{children:"Search Radius"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onChange:t,type:"radio",id:"shortRadius",name:"radius",value:"5000",required:!0}),Object(s.jsx)("label",{htmlFor:"shortRadius",children:"5KM"}),Object(s.jsx)("input",{onChange:t,type:"radio",id:"mediumRadius",name:"radius",value:"10000"}),Object(s.jsx)("label",{htmlFor:"mediumRadius",children:"10KM"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onChange:t,type:"radio",id:"longRadius",name:"radius",value:"25000"}),Object(s.jsx)("label",{htmlFor:"longRadius",children:"25KM"}),Object(s.jsx)("input",{onChange:t,type:"radio",id:"xlongRadius",name:"radius",value:"50000"}),Object(s.jsx)("label",{htmlFor:"xlongRadius",children:"50KM"})]})]}),this.renderRedirect(),Object(s.jsx)("button",{onClick:this.setRedirect,children:"Find Schools!"})]})}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(p.b,{activeClassName:"active",to:"/searchResults",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsxs)(p.b,{activeClassName:"active",to:"/favourites",children:["Favourite Schools (",this.state.favouritesLength,")"]})}),Object(s.jsx)("li",{children:Object(s.jsx)(p.b,{activeClassName:"active",to:"/addSchool",children:"Add School"})})]})})]})}}]),o}(n.Component),N=o(28);o(119);C.a.workerClass=o(120).default,C.a.accessToken="pk.eyJ1IjoiaGFycnlndWxvaWVuIiwiYSI6ImNrazQ2bmFuYTE2c2MydnBiZW5mcDVnaHYifQ.QPjai4qdHOKRY8qHYt1QVw";var T=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).removeSchool=function(e){O.database().ref("NewSchools").child(e).remove(),b.a.fire({title:"Institution Removed",text:"thank you",icon:"success",confirmButtonText:"Ok"})},e.handleAddFav=function(e,t){var o=O.database().ref("Favourites"),s={schoolName:e,schoolAddress:Object(N.a)(t),schoolNotes:""};o.push(s),b.a.fire({title:"Institution Added",text:"thank you",icon:"success",confirmButtonText:"Ok"})},e.state={savedSchool:{schoolName:"",schoolAddress:[],map:!1,currentCoordinates:[]},lng:5,lat:34,zoom:2},e.sectionRef=a.a.createRef(),e}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var e=this,t=[this.props.location[0],this.props.location[1]];this.sectionRef.current.scrollIntoView();var o=new C.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:t,zoom:11});this.setState({currentCoordinates:t}),o.on("load",(function(){var s=document.getElementById("filterList"),n=document.getElementsByClassName("schoolResults"),a=Object(N.a)(n);s.addEventListener("click",(function(e){e.target.classList.toggle("selectedFilter"),a.forEach((function(t){t.getAttribute("data-type")===e.target.textContent&&t.classList.toggle("visible")}))})),e.props.schoolResults&&e.props.schoolResults.forEach((function(n){var a=new C.a.Marker({type:n.type,color:n.markerColor}).setLngLat([n.location.lng,n.location.lat]).setPopup((new C.a.Popup).setHTML("<h4>".concat(n.name,"</h4><p>").concat(n.location.formattedAddress,"</p>"))).addTo(o),c=a.getElement();c.setAttribute("data-type","".concat(n.type)),c.addEventListener("mouseenter",(function(){return a.togglePopup()})),c.addEventListener("mouseleave",(function(){return a.togglePopup()})),c.style.cursor="pointer",c.addEventListener("click",(function(s){for(var n in t=[],a._lngLat)t.push(a._lngLat[n]);e.setState({map:!0,currentCoordinates:t}),o.flyTo({center:e.state.currentCoordinates,zoom:14})})),s.addEventListener("click",(function(e){c.getAttribute("data-type")===e.target.textContent&&c.classList.toggle("visible")}))})),e.props.schoolsAdded.forEach((function(s){var n=(new C.a.Marker).setLngLat([s.coordinates[0],s.coordinates[1]]).setPopup((new C.a.Popup).setHTML("<h4>".concat(s.schoolName,"</h4><p>").concat(s.schoolAddress,"</p>"))).addTo(o),a=n.getElement();a.setAttribute("data-type","".concat(s.schoolType)),a.addEventListener("mouseenter",(function(){return n.togglePopup()})),a.addEventListener("mouseleave",(function(){return n.togglePopup()})),a.style.cursor="pointer",a.addEventListener("click",(function(s){for(var a in t=[],n._lngLat)t.push(n._lngLat[a]);e.setState({map:!0,currentCoordinates:t}),o.flyTo({center:e.state.currentCoordinates,zoom:14})}))})),o.on("move",(function(){e.setState({lng:o.getCenter().lng.toFixed(4),lat:o.getCenter().lat.toFixed(4),zoom:o.getZoom().toFixed(2)})}))}))}},{key:"componentDidUpdate",value:function(){for(var e=this,t=this.state.currentCoordinates,o=this.props.location,s=0;s<2;s++)(t[s]-o[s]>1||t[s]-o[s]<-1)&&function(){var t=[e.props.location[0],e.props.location[1]];e.sectionRef.current.scrollIntoView();var o=new C.a.Map({container:e.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:t,zoom:11});e.setState({currentCoordinates:t}),o.on("load",(function(){var s=document.getElementById("filterList"),n=document.getElementsByClassName("schoolResults"),a=Object(N.a)(n);a.forEach((function(e){e.classList.contains("visible")&&e.classList.remove("visible")})),s.addEventListener("click",(function(e){a.forEach((function(t){t.getAttribute("data-type")===e.target.textContent&&t.classList.toggle("visible")}))})),e.props.schoolResults&&e.props.schoolResults.forEach((function(n){var a=new C.a.Marker({type:n.type,color:n.markerColor}).setLngLat([n.location.lng,n.location.lat]).setPopup((new C.a.Popup).setHTML("<h4>".concat(n.name,"</h4><p>").concat(n.location.formattedAddress,"</p>"))).addTo(o),c=a.getElement();c.setAttribute("data-type","".concat(n.type)),c.addEventListener("mouseenter",(function(){return a.togglePopup()})),c.addEventListener("mouseleave",(function(){return a.togglePopup()})),c.style.cursor="pointer",c.addEventListener("click",(function(s){for(var n in t=[],a._lngLat)t.push(a._lngLat[n]);e.setState({map:!0,currentCoordinates:t}),o.flyTo({center:e.state.currentCoordinates,zoom:14})})),s.addEventListener("click",(function(e){c.getAttribute("data-type")===e.target.textContent&&c.classList.toggle("visible")}))})),e.props.schoolsAdded.forEach((function(s){var n=(new C.a.Marker).setLngLat([s.coordinates[0],s.coordinates[1]]).setPopup((new C.a.Popup).setHTML("<h4>".concat(s.schoolName,"</h4><p>").concat(s.schoolAddress,"</p>"))).addTo(o),a=n.getElement();a.setAttribute("data-type","".concat(s.schoolType)),a.addEventListener("mouseenter",(function(){return n.togglePopup()})),a.addEventListener("mouseleave",(function(){return n.togglePopup()})),a.style.cursor="pointer",a.addEventListener("click",(function(s){for(var a in t=[],n._lngLat)t.push(n._lngLat[a]);e.setState({map:!0,currentCoordinates:t}),o.flyTo({center:e.state.currentCoordinates,zoom:14})}))})),o.on("move",(function(){e.setState({lng:o.getCenter().lng.toFixed(4),lat:o.getCenter().lat.toFixed(4),zoom:o.getZoom().toFixed(2)})}))}))}()}},{key:"render",value:function(){var e=this;return Object(s.jsx)("section",{children:Object(s.jsxs)("div",{className:"combinedSchools",children:[Object(s.jsxs)("div",{className:"allResults",children:[Object(s.jsx)("h2",{className:"searchLocation",name:"scroll-to-element",ref:this.sectionRef,children:Object(s.jsxs)("span",{children:[this.props.userCityInput,", ",this.props.userCountryInput]})}),Object(s.jsxs)("div",{className:"resultsScrollBox",children:[this.props.schoolsAdded?Object(s.jsxs)("div",{className:"addedSchool",children:[Object(s.jsx)("h2",{children:"User Added"}),this.props.schoolsAdded.map((function(t){return Object(s.jsxs)("div",{"data-type":t.schoolType,className:"schoolResults",children:[Object(s.jsxs)("details",{children:[Object(s.jsx)("summary",{children:t.schoolName}),Object(s.jsx)("p",{children:t.schoolAddress.join(", ")})]}),Object(s.jsxs)("div",{className:"buttonFlex",children:[Object(s.jsx)("button",{onClick:function(){e.handleAddFav(t.schoolName,t.schoolAddress)},children:"Favourite"}),Object(s.jsx)("button",{onClick:function(){e.removeSchool(t.id)},children:"Remove"})]})]},t.id)}))]}):null,this.props.schoolResults?Object(s.jsxs)("div",{className:"searchedSchools",children:[Object(s.jsx)("h2",{children:"Search Results"}),this.props.schoolResults.map((function(t){return Object(s.jsxs)("div",{"data-type":t.type,className:"schoolResults",children:[Object(s.jsxs)("details",{children:[Object(s.jsx)("summary",{children:t.name}),Object(s.jsx)("p",{children:t.location.formattedAddress.join(", ")})]}),Object(s.jsx)("button",{onClick:function(){e.handleAddFav(t.name,t.location.formattedAddress)},children:"favourite"})]},t.id)}))]}):Object(s.jsx)("h2",{children:"Server issues: Could only return user added schools."})]})]}),Object(s.jsxs)("div",{className:"mapHeading",children:[Object(s.jsx)("h2",{children:"Map View"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}),Object(s.jsxs)("div",{className:"filter",children:[Object(s.jsx)("p",{className:"srOnly",children:"Filter Results"}),Object(s.jsx)("ul",{id:"filterList",children:this.props.filters.map((function(e,t){return Object(s.jsx)("li",{className:"filter",children:e},t)}))})]})]})]})]})})}}]),o}(n.Component),A=(o(121),o(64)),k=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).addSchool=function(t){t.preventDefault();var o=[e.state.schoolAddress.street,e.state.schoolAddress.city+" "+e.state.schoolAddress.province+" "+e.state.schoolAddress.postalCode,e.state.schoolAddress.country],s=O.database().ref("NewSchools"),n={schoolName:e.state.schoolName,schoolType:e.state.schoolType,schoolAddress:o};s.push(n),b.a.fire({title:"New institution added",text:"Thank You",icon:"success",confirmButtonText:"Ok"}),e.setState({schoolName:"",schoolNote:"",schoolType:"",schoolAddress:{street:"",city:"",province:"",postalCode:"",country:""}})},e.updateAddress=function(t,o){var s=Object(A.a)({},e.state.schoolAddress);s[o]=t.target.value,e.setState({schoolAddress:s})},e.state={schoolName:"",schoolType:"",schoolAddress:{street:"",city:"",province:"",postalCode:"",country:""}},e}return Object(d.a)(o,[{key:"render",value:function(){var e=this;return Object(s.jsx)(n.Fragment,{children:Object(s.jsx)("div",{className:"addSchoolForm",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{htmlFor:"newSchoolName",children:"School Name"}),Object(s.jsx)("input",{type:"text",id:"newSchoolName",value:this.state.schoolName,onChange:function(t){return e.setState({schoolName:t.target.value})}}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"schoolTypeInputs",children:[Object(s.jsx)("legend",{children:"School Type"}),Object(s.jsx)("input",{type:"radio",id:"newUniversity",name:"schoolType",value:"University",required:!0,checked:"University"===this.state.schoolType,onChange:function(t){return e.setState({schoolType:t.target.value})}}),Object(s.jsx)("label",{htmlFor:"newUniversity",children:"University"}),Object(s.jsx)("input",{type:"radio",id:"newCollege",name:"schoolType",value:"Community College",checked:"Community College"===this.state.schoolType,onChange:function(t){return e.setState({schoolType:t.target.value})}}),Object(s.jsx)("label",{htmlFor:"newCollege",children:"College"}),Object(s.jsx)("input",{type:"radio",id:"newTradeSchool",name:"schoolType",value:"Trade School",checked:"Trade School"===this.state.schoolType,onChange:function(t){return e.setState({schoolType:t.target.value})}}),Object(s.jsx)("label",{htmlFor:"newTradeSchool",children:"Trade School"}),Object(s.jsx)("br",{})]}),Object(s.jsxs)("div",{className:"addressInputs",children:[Object(s.jsxs)("div",{className:"addressInput",children:[Object(s.jsx)("label",{htmlFor:"newSchoolAddress",children:"Address"}),Object(s.jsx)("input",{type:"text",id:"newSchoolAddress",value:this.state.schoolAddress.street,onChange:function(t){return e.updateAddress(t,"street")}})]}),Object(s.jsxs)("div",{className:"addressInput",children:[Object(s.jsx)("label",{htmlFor:"newSchoolCity",children:"City"}),Object(s.jsx)("input",{type:"text",id:"newSchoolCity",value:this.state.schoolAddress.city,onChange:function(t){return e.updateAddress(t,"city")}})]}),Object(s.jsxs)("div",{className:"addressInput",children:[Object(s.jsx)("label",{htmlFor:"newSchoolProvince",children:"Province"}),Object(s.jsx)("input",{type:"text",id:"newSchoolProvince",value:this.state.schoolAddress.province,onChange:function(t){return e.updateAddress(t,"province")}})]}),Object(s.jsxs)("div",{className:"addressInput",children:[Object(s.jsx)("label",{htmlFor:"newSchoolPostal",children:"Postal Code"}),Object(s.jsx)("input",{type:"text",id:"newSchoolPostal",value:this.state.schoolAddress.postalCode,onChange:function(t){return e.updateAddress(t,"postalCode")}})]}),Object(s.jsxs)("div",{className:"addressInput",children:[Object(s.jsx)("label",{htmlFor:"newSchoolCountry",children:"Country"}),Object(s.jsx)("input",{type:"text",id:"newSchoolCountry",value:this.state.schoolAddress.country,onChange:function(t){return e.updateAddress(t,"country")}})]})]}),Object(s.jsx)("button",{className:"addSchoolButton",onClick:this.addSchool,children:"Add new school"})]})})})}}]),o}(n.Component),I=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).removeSchool=function(e){O.database().ref("Favourites").child(e).remove(),b.a.fire({title:"Institution Removed",text:"Your favourite list has been updated",icon:"success",confirmButtonText:"Ok"})},e.handleAddNotes=function(t){O.database().ref("Favourites").child(t).update({schoolNotes:e.state.schoolNotes}),e.setState({schoolNotes:""}),b.a.fire({title:"Note Added",text:"Added",icon:"success",confirmButtonText:"Ok"})},e.state={schoolNotes:"",schoolId:""},e}return Object(d.a)(o,[{key:"render",value:function(){var e=this,t=this.props.school,o=t.id,n=t.schoolName,a=t.schoolAddress,c=t.schoolNotes;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{className:"favoritesFlex",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)("p",{children:a}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{children:"Notes: "}),c]}),Object(s.jsx)("label",{htmlFor:"notes",className:"srOnly",children:"Notes: type below to add"}),Object(s.jsx)("textarea",{placeholder:"Type here to add notes",value:this.state.schoolNotes,name:"notes",id:"notes",onChange:function(t){return e.setState({schoolNotes:t.target.value,schoolId:o})}}),Object(s.jsxs)("div",{className:"buttonFlex",children:[Object(s.jsx)("button",{onClick:function(){e.handleAddNotes(o)},children:"Add Notes"}),Object(s.jsx)("button",{onClick:function(){e.removeSchool(o)},children:"Remove School"})]})]},o)})}}]),o}(n.Component),w=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).state={favourites:[],schoolNotes:"",schoolId:""},e}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var e=this;O.database().ref().on("value",(function(t){var o,s=t.val().Favourites,n=[];for(var a in s)(o=s[a]).id=a,o.notes=e.state.schoolNotes,n.push(o);e.setState({favourites:n})}))}},{key:"render",value:function(){return Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("div",{className:"favorites",children:[Object(s.jsx)("h2",{children:"Favourites"}),Object(s.jsx)("ul",{children:this.state.favourites.map((function(e){return Object(s.jsx)(n.Fragment,{children:Object(s.jsx)(I,{school:e})})}))})]})})}}]),o}(n.Component);o(2).Fragment;var L=function(){return Object(s.jsxs)("footer",{children:[Object(s.jsxs)("p",{children:["Juno College 2020 Created by ",Object(s.jsxs)("span",{children:[Object(s.jsx)("a",{href:"https://clarkemacarthur.com/",children:"Clarke"}),", ",Object(s.jsx)("a",{href:"http://erzhena.ca/",children:"Erzhena"}),", ",Object(s.jsx)("a",{href:"https://www.harrydarwin.com/",children:"Harry"})," and ",Object(s.jsx)("a",{href:"https://kylekodes.com/",children:"Kyle"})," \xa9"]})]}),Object(s.jsx)("p",{children:Object(s.jsxs)("span",{children:["Photo by ",Object(s.jsx)("a",{href:"https://unsplash.com/@iemyoung?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",children:"Emily Karakis"})," on ",Object(s.jsx)("a",{href:"https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",children:"Unsplash"})]})})]})},F="",R="",E=[],P=[],M=[];C.a.accessToken="pk.eyJ1IjoiaGFycnlndWxvaWVuIiwiYSI6ImNrazQ2bmFuYTE2c2MydnBiZW5mcDVnaHYifQ.QPjai4qdHOKRY8qHYt1QVw";var H=function(e){Object(u.a)(o,e);var t=Object(h.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).getData=function(){e.mapData("".concat(e.state.cityInput," ").concat(e.state.countryInput)),setTimeout((function(){e.categoriesToSearch("4bf58dd8d48988d1ae941735","4bf58dd8d48988d1a2941735","4bf58dd8d48988d1ad941735"),e.fireBaseCall(),e.scrollTo()}),2)},e.handleSubmit=function(t){t.preventDefault(),F="",R="",E=[],P=[],M=[],e.setState({schoolResults:[],newSchool:[]}),e.getData(),e.setState({directMeHome:!0})},e.handleRadius=function(t){e.setState({radius:t.target.value})},e.handleCityInput=function(t){e.setState({cityInput:t.target.value})},e.handleCountryInput=function(t){e.setState({countryInput:t.target.value})},e.state={schoolResults:[],favourites:[],radius:"",schoolTypeId:"",cityInput:"",countryInput:"",formattedAddress:[],newSchool:[],favouriteLength:"",isActive:!1,directMeHome:!1,mapLocations:[],longLatLocations:[],locationCoordinates:[],filters:[]},e}return Object(d.a)(o,[{key:"scrollTo",value:function(){m.scroller.scrollTo("scroll-to-element",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"fireBaseCall",value:function(){var e=this;O.database().ref().on("value",(function(t){var o=function(e){var t,o=[];for(var s in e)(t=e[s]).id=s,o.push(t);return o}(t.val().NewSchools);E=[],o.forEach((function(t){e.userSchoolMapData(t)})),e.setState({newSchool:o})})),F=this.state.cityInput,R=this.state.countryInput}},{key:"userSchoolMapData",value:function(e){var t=this,o=e;o.address=e.schoolAddress.join(),this.geoCodeCall(o.address).then((function(e){e.data.features.length>0&&(o.coordinates=e.data.features[0].center,E.push(o))})).catch((function(e){t.setState({isActive:!1}),b.a.fire({title:"Please Try Again",text:"We are experiencing technical difficulties",icon:"error",confirmButtonText:"Ok"})}))}},{key:"mapData",value:function(e){var t=this;this.geoCodeCall(e).then((function(e){var o=e.data.features[0].geometry.coordinates;t.setState({locationCoordinates:o}),console.log(t.state.locationCoordinates)})).catch((function(e){b.a.fire({title:"Issue with request",text:"Please check you location and try again",icon:"error",confirmButtonText:"Ok"})}))}},{key:"geoCodeCall",value:function(e){return y()({method:"GET",responseType:"json",url:"https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json?"),params:{access_token:C.a.accessToken}})}},{key:"compareUserInputAndCreateResultsArray",value:function(e,t){var o=this;return e.filter((function(e){var s=e.schoolAddress[1].toLowerCase(),n=e.schoolAddress[2].toLowerCase();return e.schoolType===t&&s.includes(o.state.cityInput.toLowerCase())&&n.includes(o.state.countryInput.toLowerCase())||e.schoolType===t&&s.includes(o.state.cityInput.toLowerCase())&&s.includes(o.state.cityInput.toLowerCase())}))}},{key:"convertCategoryIdToName",value:function(){var e="";return"4bf58dd8d48988d1ae941735"===this.state.schoolTypeId?e="University":"4bf58dd8d48988d1a2941735"===this.state.schoolTypeId?e="Community College":"4bf58dd8d48988d1ad941735"===this.state.schoolTypeId&&(e="Trade School"),e}},{key:"apiCall",value:function(e){var t=this;y()({method:"GET",responseType:"json",url:"https://api.foursquare.com/v2/venues/search",params:{client_id:"SMUUEFGVRENHIW3EQX5ICCFCTNQPPIWVXP21E2BQVRH421OF",client_secret:"EVNPHQ3EYKNQKZMOAKRVUTT0KDHXXGNUWUCY0LFZTVRE2BAF",near:this.state.cityInput+" "+this.state.countryInput,categoryId:e,radius:this.state.radius,v:20201205}}).then((function(e){var o=function(e){return e.filter((function(e){return e.name.includes("University")||"Community College"===e.categories[0].name||"Trade School"===e.categories[0].name&&e.location.formattedAddress.length>2}))}(e.data.response.venues);o.forEach((function(e){e.name.includes("University")?(e.markerColor="#7261a3",e.type="University"):"Community College"==e.categories[0].name?(e.markerColor="#5ca4a9",e.type="College"):"Trade School"==e.categories[0].name?(e.markerColor="#e6af2e",e.type="Trade School"):(e.markerColor="#EDD2E0",e.type="")})),o.forEach((function(e){M.includes(e.type)||M.push(e.type)})),o.forEach((function(e){return P.push(e)})),t.setState({schoolResults:P,isActive:!0,filters:M})})).catch((function(e){"Error: Request failed with status code 403"==e?t.setState({isActive:!0,schoolResults:!1}):(t.setState({isActive:!1}),b.a.fire({title:"No Schools Found",text:"Please Try Another City and Province/Country",icon:"error",confirmButtonText:"Ok"}))}))}},{key:"categoriesToSearch",value:function(){for(var e=this,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];o.forEach((function(t){e.apiCall(t)}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(p.a,{children:[Object(s.jsx)(S,{radiusHandler:this.handleRadius,handleCityInput:this.handleCityInput,handleCountryInput:this.handleCountryInput,submitHandler:this.handleSubmit}),Object(s.jsxs)("div",{className:"wrapper",children:[this.state.isActive?Object(s.jsx)(j.b,{exact:!0,path:"/searchResults",render:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(T,Object(i.a)({schoolResults:e.state.schoolResults,schoolsAdded:e.state.newSchool,userCityInput:F,userCountryInput:R,location:e.state.locationCoordinates,filters:e.state.filters},"schoolsAdded",E))})}}):null,Object(s.jsx)(j.b,{path:"/addSchool",component:k}),Object(s.jsx)(j.b,{path:"/favourites",component:w})]}),Object(s.jsx)(L,{})]})}}]),o}(n.Component);var B=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,123)).then((function(t){var o=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;o(e),s(e),n(e),a(e),c(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(H,{})}),document.getElementById("root")),B()},70:function(e,t,o){}},[[122,1,2]]]);
//# sourceMappingURL=main.aa15f50c.chunk.js.map